
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://loxilb-io.github.io/loxilbdocs/main/ha-deploy-KOR/">
      
      
      
      
      <link rel="icon" href="../photos/loxilb-logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.35">
    
    
      
        <title>loxilb 고가용성(HA) 배포 방법 - LoxiLB</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#loxilb-ha" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://www.loxilb.io/" title="LoxiLB" class="md-header__button md-logo" aria-label="LoxiLB" data-md-component="logo">
      
  <img src="../photos/loxilb-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LoxiLB
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              loxilb 고가용성(HA) 배포 방법
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/loxilb-io/loxilb" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    loxilb-io/loxilb
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://www.loxilb.io/" title="LoxiLB" class="md-nav__button md-logo" aria-label="LoxiLB" data-md-component="logo">
      
  <img src="../photos/loxilb-logo.png" alt="logo">

    </a>
    LoxiLB
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/loxilb-io/loxilb" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    loxilb-io/loxilb
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Architectural Considerations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Architectural Considerations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kube-loxilb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding loxilb deployment in K8s with kube-loxilb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ha-deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding High-availability with loxilb
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    External Cluster Mode
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            External Cluster Mode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../k3s_quick_start_flannel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K3s/loxilb with default flannel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../k3s_quick_start_calico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K3s/loxilb with calico
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick_start_with_cilium/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K3s/loxilb with cilium
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../k0s_quick_start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K0s/loxilb with kube-router
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eks-external/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EKS/loxilb external mode
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    In-Cluster Mode
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            In-Cluster Mode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../k3s_quick_start_incluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K3s/loxilb in-cluster mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../k0s_quick_start_incluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K0s/loxilb in-cluster mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../microk8s_quick_start_incluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MicroK8s/loxilb in-cluster mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../eks-incluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EKS/loxilb incluster mode
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Service-Proxy Mode
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Service-Proxy Mode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service-proxy-flannel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K3s/loxilb service-proxy with flannel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service-proxy-calico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K3s/loxilb service-proxy with calico
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Kubernetes Ingress Mode
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Kubernetes Ingress Mode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../loxilb-ingress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    k3s/Run loxilb-ingress
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../standalone/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standalone Mode
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Advanced Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../service-zones/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How-To - service-group zones
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ext-ep/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How-To - access end-points outside K8s
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../k3s-multi-master/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How-To - Deploy multi-server K3s HA with loxilb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws-multi-az/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How-To - Deploy loxilb with multi-AZ HA support in AWS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi-cloud-ha/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How-To - Deploy loxilb with multi-cloud HA support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../loxilb-nginx-ingress/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How-To - Deploy loxilb with ingress-nginx
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../loxilb-incluster-multus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How-To - Deploy loxilb in-cluster for multus based secondary services
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Knowledge Base
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Knowledge Base
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ebpf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is eBPF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is k8s service - load-balancer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../arch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture in brief
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code organization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../loxilbebpf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eBPF internals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NAT Modes of loxilb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lb-algo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    loxilb load-balancer algorithms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manual steps to build/run
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging loxilb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cmd-dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer's guide to loxicmd
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer's guide to loxilb API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    loxilb api-reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../perf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance Report
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../roadmap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Roadmap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contribution Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frequenctly Asked Questions- FAQs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blogs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Blogs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/loxilb-cluster-networking-elevating-k8s-networking-capabilities" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K8s - Elevating Cluster Networking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/state-synchronization-of-ebpf-maps-using-go-a-tale-of-two-frameworks" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eBPF - Map Sync using Go
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/k8s-nuances-of-in-cluster-external-service-lb-with-loxilb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K8s in-cluster service LB with LoxiLB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/k8s-introducing-sctp-multihoming-functionality-with-loxilb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K8s - Introducing SCTP Multihoming with LoxiLB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/loxilb-anycast-service-load-balancing-with-high-availability" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hyperscale anycast load balancing with HA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/loxilb-load-balancer-setup-on-eks" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started with LoxiLB on Amazon EKS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/k8s-deploying-hitless-and-ha-load-balancing" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K8s - Deploying hitless Load-Balancing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/k8s-exposing-ipv4-services-externally-as-ipv6" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ipv6 migration in Kubernetes made easy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/running-loxilb-on-aws-graviton2-based-ec2-instance" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load-balancer Perf comparison on Amazon Graviton2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.loxilb.io/post/ngap-load-balancing-with-loxilb" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NGAP load balancing with LoxiLB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_11" >
        
          
          <label class="md-nav__link" for="__nav_6_11" id="__nav_6_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Community Posts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_11">
            <span class="md-nav__icon md-icon"></span>
            Community Posts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://dev.to/nikhilmalik/5g-service-communication-proxy-with-loxilb-4242" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5G Service Communication Proxy(SCP) with LoxiLB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://futuredon.medium.com/5g-sctp-loadbalancer-using-loxilb-b525198a9103" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5G SCTP LoadBalancer Using LoxiLB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://futuredon.medium.com/5g-uplink-classifier-using-loxilb-7593a4d66f4c" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5G Uplink Classifier Using LoxiLB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://cloudybytes.medium.com/k3s-using-loxilb-as-external-service-lb-2ea4ce61e159" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    K3s - Using LoxiLB as external service lb
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://medium.com/@ben0978327139/5g-sctp-loadbalancer-using-loxilb-applying-on-free5gc-b5c05bb723f0" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5G SCTP LoadBalancer Using LoxiLB Applying on free5GC
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-flat-l2-" class="md-nav__link">
    <span class="md-ellipsis">
      시나리오 1 - Flat L2 네트워킹 (액티브-백업)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="시나리오 1 - Flat L2 네트워킹 (액티브-백업)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      설정
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      적합한 사용 사례
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kube-loxilb" class="md-nav__link">
    <span class="md-ellipsis">
      kube-loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kube-loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      구성 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loxilb" class="md-nav__link">
    <span class="md-ellipsis">
      loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      구성 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fail-over" class="md-nav__link">
    <span class="md-ellipsis">
      Fail-Over
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-l3-bgp-" class="md-nav__link">
    <span class="md-ellipsis">
      시나리오 2 - L3 네트워크 (BGP를 사용하는 액티브-백업 모드)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="시나리오 2 - L3 네트워크 (BGP를 사용하는 액티브-백업 모드)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      설정
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      적합한 사용 사례
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kube-loxilb_1" class="md-nav__link">
    <span class="md-ellipsis">
      kube-loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kube-loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      구성 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loxilb_1" class="md-nav__link">
    <span class="md-ellipsis">
      loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      구성 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fail-over_1" class="md-nav__link">
    <span class="md-ellipsis">
      Fail-over
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-l3-bgp-ecmp-" class="md-nav__link">
    <span class="md-ellipsis">
      시나리오 3 - L3 네트워크 (BGP ECMP를 사용하는 액티브-액티브)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="시나리오 3 - L3 네트워크 (BGP ECMP를 사용하는 액티브-액티브)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      설정
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      적합한 사용 사례
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kube-loxilb_2" class="md-nav__link">
    <span class="md-ellipsis">
      kube-loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kube-loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      구성 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loxilb_2" class="md-nav__link">
    <span class="md-ellipsis">
      loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      구성 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fail-over_2" class="md-nav__link">
    <span class="md-ellipsis">
      Fail-over
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-" class="md-nav__link">
    <span class="md-ellipsis">
      시나리오 4 - 연결 동기화를 사용하는 액티브-백업
    </span>
  </a>
  
    <nav class="md-nav" aria-label="시나리오 4 - 연결 동기화를 사용하는 액티브-백업">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      설정
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      적합한 사용 사례
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kube-loxilb_3" class="md-nav__link">
    <span class="md-ellipsis">
      kube-loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kube-loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      구성 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loxilb_3" class="md-nav__link">
    <span class="md-ellipsis">
      loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      실행 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fail-over_3" class="md-nav__link">
    <span class="md-ellipsis">
      Fail-over
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-fail-over-" class="md-nav__link">
    <span class="md-ellipsis">
      시나리오 5 - 빠른 Fail-over 감지를 사용하는 액티브-백업
    </span>
  </a>
  
    <nav class="md-nav" aria-label="시나리오 5 - 빠른 Fail-over 감지를 사용하는 액티브-백업">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      설정
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      적합한 사용 사례
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kube-loxilb_4" class="md-nav__link">
    <span class="md-ellipsis">
      kube-loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="kube-loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      구성 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loxilb_4" class="md-nav__link">
    <span class="md-ellipsis">
      loxilb의 역할과 책임:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="loxilb의 역할과 책임:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      실행 옵션
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fail-over_4" class="md-nav__link">
    <span class="md-ellipsis">
      Fail-over
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      참고:
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="loxilb-ha">loxilb 고가용성(HA) 배포 방법</h1>
<p>이 문서에서는 loxilb를 고가용성(HA)으로 배포하는 다양한 시나리오에 대해 설명합니다. 이 페이지를 계속하기 전에  <a href="https://loxilb-io.github.io/loxilbdocs/kube-loxilb/">kube-loxilb</a>와 loxilb가 지원하는 다양한 <a href="https://github.com/loxilb-io/loxilbdocs/blob/main/docs/nat.md">NAT 모드</a>에 대한 기본적인 이해를 가지는 것이 좋습니다. loxilb는 아키텍처 선택에 따라 인-클러스터 또는 Kubernetes 클러스터 외부에서 실행할 수 있습니다. 이 문서에서는 인-클러스터 내 배포를 가정하지만, 유사한 구성이 외부 구성 에서도 동일하게 가능합니다.</p>
<ul>
<li><a href="#scenario-1----flat-l2-networking-active-backup">시나리오 1 - Flat L2 네트워킹 (액티브-백업)</a></li>
<li><a href="#scenario-2----l3-network-active-backup-mode-using-bgp">시나리오 2 - L3 네트워크 (BGP를 사용하는 액티브-백업 모드)</a></li>
<li><a href="#scenario-3----l3-network-active-active-with-bgp-ecmp">시나리오 3 - L3 네트워크 (BGP ECMP를 사용하는 액티브-액티브)</a></li>
<li><a href="#scenario-4----active-backup-with-connection-sync">시나리오 4 - 연결 동기화를 사용하는 액티브-백업</a></li>
<li><a href="#scenario-5----active-backup-with-fast-failover-detection">시나리오 5 - 빠른 Fail-over 감지를 사용하는 액티브-백업(BFD)</a></li>
</ul>
<h2 id="1-flat-l2-">시나리오 1 - Flat L2 네트워킹 (액티브-백업)</h2>
<h3 id="_1">설정</h3>
<hr />
<p>이 배포 시나리오에서는 Kubernetes와 loxilb가 다음과 같이 설정됩니다:</p>
<p><img alt="설정" src="../photos/loxilb-k8s-arch-LoxiLB-HA-L2-1.drawio.svg" /></p>
<p>Kubernetes는 2개의 마스터 노드와 2개의 워커 노드로 구성된 클러스터를 사용하며, 모든 노드는 동일한 192.168.80.0/24 서브넷을 사용합니다. 이 시나리오에서는 loxilb가 모든 마스터 노드에서 DaemonSet으로 배포됩니다. 그리고 kube-loxilb는 Deployment로 배포됩니다.</p>
<h3 id="_2">적합한 사용 사례</h3>
<ol>
<li>클라이언트와 서비스가 동일한 서브넷에 있어야 하는 경우.</li>
<li>엔드포인트가 동일한 서브넷에 있거나 없을 수 있는 경우.</li>
<li>간단한 배포를 원하는 경우.</li>
</ol>
<h3 id="kube-loxilb">kube-loxilb의 역할과 책임:</h3>
<ul>
<li>로컬 서브넷에서 CIDR 선택.</li>
<li>SetRoles 옵션을 선택하여 활성 loxilb pod를 선택할 수 있도록 합니다.</li>
<li>loxilb의 상태를 모니터링하고 Fail-over 시 새로운 마스터를 선출합니다.</li>
<li>엔드포인트를 향한 One-arm 서비스 모드에서 loxilb를 설정합니다.</li>
</ul>
<h4 id="_3">구성 옵션</h4>
<div class="highlight"><pre><span></span><code> containers:
      - name: kube-loxilb
        image: ghcr.io/loxilb-io/kube-loxilb:latest
        imagePullPolicy: Always
        command:
        - /bin/kube-loxilb
        args:
        ....
        ....
        - --externalCIDR=192.168.80.200/24
        - --setRoles=0.0.0.0
        - --setLBMode=1
</code></pre></div>
<ul>
<li><b>"--externalCIDR=192.168.80.200/24" -</b> svc의 외부 서비스 IP는 externalCIDR 범위에서 선택됩니다. 이 시나리오에서는 클라이언트, svc 및 클러스터가 동일한 서브넷에 있습니다.</li>
<li><b>"--setRoles=0.0.0.0" -</b> 이 옵션을 사용하면 kube-loxilb가 loxilb 인스턴스 중에서 활성-백업을 선택하고 svc IP를 활성 loxilb 노드에 구성할 수 있습니다.</li>
<li><b>"--setLBMode=1" -</b> 이 옵션을 사용하면 kube-loxilb가 엔드포인트를 향한 One-arm 모드에서 svc를 구성할 수 있습니다.</li>
</ul>
<p>샘플 kube-loxilb.yaml은 <a href="https://github.com/loxilb-io/kube-loxilb/blob/main/manifest/in-cluster/kube-loxilb.yaml">여기</a>에서 찾을 수 있습니다.</p>
<h3 id="loxilb">loxilb의 역할과 책임:</h3>
<ul>
<li>svc로 향하는 외부 트래픽을 추적하고 엔드포인트로 전달합니다.</li>
<li>엔드포인트의 상태를 모니터링하고 활성 엔드포인트를 선택합니다(구성된 경우).</li>
</ul>
<h4 id="_4">구성 옵션</h4>
<div class="highlight"><pre><span></span><code> containers:
      - name: loxilb-app
        image: &quot;ghcr.io/loxilb-io/loxilb:latest&quot;
        imagePullPolicy: Always
        command: [ &quot;/root/loxilb-io/loxilb/loxilb&quot;, &quot;--egr-hooks&quot;, &quot;--blacklist=cni[0-9a-z]|veth.|flannel.&quot; ]
        ports:
        - containerPort: 11111
        - containerPort: 179
        - containerPort: 50051
        securityContext:
          privileged: true
          capabilities:
            add:
              - SYS_ADMIN
</code></pre></div>
<ul>
<li>
<p><b>"--egr-hooks" -</b> 워크로드가 마스터 노드에 스케줄링될 수 있는 경우 필요합니다. 워커 노드로 워크로드 스케줄링을 관리하는 경우 해당 변수를 설정할 필요는 없습니다.</p>
</li>
<li>
<p><b>"--blacklist=cni[0-9a-z]|veth.|flannel." -</b> 클러스터 내 모드에서 실행하는 경우 필수입니다. loxilb는 모든 인터페이스에 ebpf 프로그램을 부착하지만 기본 네임스페이스에서 실행 중이므로 모든 인터페이스(CNI 인터페이스 포함)가 노출되고 loxilb는 이러한 인터페이스에 ebpf 프로그램을 부착하게 됩니다. 이는 원하는 바가 아니므로 사용자는 이러한 인터페이스를 제외하는 정규 표현식을 언급해야 합니다. 주어진 예제의 정규 표현식은 flannel 인터페이스를 제외합니다. "--blacklist=cali.|tunl.|vxlan[.]calico|veth.|cni[0-9a-z]" 정규 표현식은 calico CNI와 함께 사용해야 합니다.</p>
</li>
</ul>
<p>샘플 loxilb.yaml은 <a href="https://github.com/loxilb-io/kube-loxilb/blob/main/manifest/in-cluster/loxilb.yaml">여기</a>에서 찾을 수 있습니다.</p>
<h3 id="fail-over">Fail-Over</h3>
<p>이 다이어그램은 Fail-over 시나리오를 설명합니다:</p>
<p><img alt="설정" src="../photos/loxilb-k8s-arch-LoxiLB-HA-L2-2.drawio.svg" /></p>
<p>kube-loxilb는 loxilb의 상태를 지속적으로 모니터링합니다. 장애가 발생하면 loxilb의 상태 변경을 감지하고 사용 가능한  loxilb pod 풀에서 새로운 “활성”을 할당합니다. 새로운 pod는 이전에 다른 loxilb pod에 할당된 svcIP를 상속받아 서비스가 새롭게 활성화된 loxilb pod에 의해 제공됩니다.</p>
<h2 id="2-l3-bgp-">시나리오 2 - L3 네트워크 (BGP를 사용하는 액티브-백업 모드)</h2>
<h3 id="_5">설정</h3>
<hr />
<p>이 배포 시나리오에서는 Kubernetes와 loxilb가 다음과 같이 설정됩니다:</p>
<p><img alt="설정" src="../photos/loxilb-k8s-arch-LoxiLB-HA-L3-1.drawio.svg" /></p>
<p>Kubernetes는 2개의 마스터 노드와 2개의 워커 노드로 구성된 클러스터를 사용하며, 모든 노드는 동일한 192.168.80.0/24 서브넷을 사용합니다. SVC는 클러스터/로컬 서브넷이 아닌 외부 IP를 가집니다.
이 시나리오에서는 loxilb가 모든 마스터 노드에서 DaemonSet으로 배포됩니다.
그리고 kube-loxilb는 Deployment로 배포됩니다.</p>
<h3 id="_6">적합한 사용 사례</h3>
<ol>
<li>클라이언트와 클러스터가 다른 서브넷에 있는 경우.</li>
<li>클라이언트와 svc VIP가 다른 서브넷에 있어야 하는 경우(클러스터 엔드포인트도 다른 네트워크에 있을 수 있음).</li>
<li>클라우드 배포에 이상적입니다.</li>
</ol>
<h3 id="kube-loxilb_1">kube-loxilb의 역할과 책임:</h3>
<ul>
<li>다른 서브넷에서 CIDR을 선택합니다.</li>
<li>SetRoles 옵션을 선택하여 활성 loxilb pod를 선택할 수 있도록 합니다.</li>
<li>loxilb의 상태를 모니터링하고 Fail-over 시 새로운 마스터를 선출합니다.</li>
<li>loxilb Pod 간의 BGP 피어링 프로비저닝을 자동화합니다.</li>
<li>엔드포인트를 향한 One-arm 서비스 모드에서 loxilb를 설정합니다.</li>
</ul>
<h4 id="_7">구성 옵션</h4>
<p><div class="highlight"><pre><span></span><code> containers:
      - name: kube-loxilb
        image: ghcr.io/loxilb-io/kube-loxilb:latest
        imagePullPolicy: Always
        command:
        - /bin/kube-loxilb
        args:
        ....
        ....
        - --externalCIDR=123.123.123.1/24
        - --setRoles=0.0.0.0
        - --setLBMode=1
        - --setBGP=65100
        - --extBGPPeers=50.50.50.1:65101
</code></pre></div>
  *  <b>"--externalCIDR=123.123.123.1/24" -</b> svc의 외부 서비스 IP는 externalCIDR 범위에서 선택됩니다. 이 시나리오에서는 클라이언트, svc 및 클러스터가 모두 다른 서브넷에 있습니다.
  *  <b>"--setRoles=0.0.0.0" -</b> 이 옵션을 사용하면 kube-loxilb가 loxilb 인스턴스 중에서 활성-백업을 선택하고 svc IP를 활성 loxilb 노드에 구성할 수 있습니다.
  *  <b>"--setLBMode=1" -</b> 이 옵션을 사용하면 kube-loxilb가 엔드포인트를 향한 One-arm 모드에서 svc를 구성할 수 있습니다.
  *  <b>"--setBGP=65100" -</b> 이 옵션을 사용하면 kube-loxilb가 BGP 인스턴스에 로컬 AS 번호를 구성할 수 있습니다.
  *  <b>"--extBGPPeers=50.50.50.1:65101" -</b> 이 옵션을 사용하면 BGP 인스턴스의 외부 이웃을 구성할 수 있습니다.</p>
<p>샘플 kube-loxilb.yaml은 <a href="https://github.com/loxilb-io/kube-loxilb/blob/main/manifest/in-cluster/kube-loxilb.yaml">여기</a>에서 찾을 수 있습니다.</p>
<h3 id="loxilb_1">loxilb의 역할과 책임:</h3>
<ul>
<li>상태(활성 또는 백업)에 따라 SVC IP를 광고합니다.</li>
<li>svc로 향하는 외부 트래픽을 추적하고 엔드포인트로 전달합니다.</li>
<li>엔드포인트의 상태를 모니터링하고 활성 엔드포인트를 선택합니다(구성된 경우).</li>
</ul>
<h4 id="_8">구성 옵션</h4>
<div class="highlight"><pre><span></span><code> containers:
      - name: loxilb-app
        image: &quot;ghcr.io/loxilb-io/loxilb:latest&quot;
        imagePullPolicy: Always
        command: [ &quot;/root/loxilb-io/loxilb/loxilb&quot;, &quot;--bgp&quot;, &quot;--egr-hooks&quot;, &quot;--blacklist=cni[0-9a-z]|veth.|flannel.&quot; ]
        ports:
        - containerPort: 11111
        - containerPort: 179
        - containerPort: 50051
        securityContext:
          privileged: true
          capabilities:
            add:
              - SYS_ADMIN
</code></pre></div>
<ul>
<li>
<p><b>"--bgp" -</b> 옵션은 loxilb가 goBGP 인스턴스와 함께 실행되어 활성/백업 상태에 따라 적절한 우선순위로 경로를 광고할 수 있게 합니다.</p>
</li>
<li>
<p><b>"--egr-hooks" -</b> 워크로드가 마스터 노드에 스케줄링될 수 있는 경우 필요합니다. 워커 노드로 워크로드 스케줄링을 관리하는 경우 이 인수를 언급할 필요는 없습니다.</p>
</li>
<li>
<p><b>"--blacklist=cni[0-9a-z]|veth.|flannel." -</b> 클러스터 내 모드에서 실행하는 경우 필수입니다. loxilb는 모든 인터페이스에 ebpf 프로그램을 부착하지만 기본 네임스페이스에서 실행 중이므로 모든 인터페이스(CNI 인터페이스 포함)가 노출되고 loxilb는 이러한 인터페이스에 ebpf 프로그램을 부착하게 됩니다. 이는 원하는 바가 아니므로 사용자는 이러한 인터페이스를 제외하는 정규 표현식을 언급해야 합니다. 주어진 예제의 정규 표현식은 flannel 인터페이스를 제외합니다. "--blacklist=cali.|tunl.|vxlan[.]calico|veth.|cni[0-9a-z]" 정규 표현식은 calico CNI와 함께 사용해야 합니다.</p>
</li>
</ul>
<p>샘플 loxilb.yaml은 <a href="https://github.com/loxilb-io/kube-loxilb/blob/main/manifest/in-cluster/loxilb.yaml">여기</a>에서 찾을 수 있습니다.</p>
<h3 id="fail-over_1">Fail-over</h3>
<p>이 다이어그램은 Fail-over 시나리오를 설명합니다:</p>
<p><img alt="설정" src="../photos/loxilb-k8s-arch-LoxiLB-HA-L3-2.drawio.svg" /></p>
<p>kube-loxilb는 loxilb의 상태를 지속적으로 모니터링합니다. 장애가 발생하면 loxilb의 상태 변경을 감지하고 사용 가능한 loxilb pod 풀에서 새로운 “활성”을 할당합니다. 새로운 pod는 이전에 다른 loxilb pod에 할당된 svcIP를 상속받아 새 상태에 따라 SVC IP를 광고합니다. 클라이언트는 SVCIP에 대한 새로운 경로를 수신하고 서비스는 새로 활성화된 loxilb pod에 의해 제공됩니다.</p>
<h2 id="3-l3-bgp-ecmp-">시나리오 3 - L3 네트워크 (BGP ECMP를 사용하는 액티브-액티브)</h2>
<h3 id="_9">설정</h3>
<hr />
<p>이 배포 시나리오에서는 Kubernetes와 loxilb가 다음과 같이 설정됩니다:</p>
<p><img alt="설정" src="../photos/loxilb-k8s-arch-LoxiLB-HA-L3-ECMP.drawio.svg" /></p>
<p>Kubernetes는 2개의 마스터 노드와 2개의 워커 노드로 구성된 클러스터를 사용하며, 모든 노드는 동일한 192.168.80.0/24 서브넷을 사용합니다. SVC는 클러스터/로컬 서브넷이 아닌 외부 IP를 가집니다.
이 시나리오에서는 loxilb가 모든 마스터 노드에서 DaemonSet으로 배포됩니다.
그리고 kube-loxilb는 Deployment로 배포됩니다.</p>
<h3 id="_10">적합한 사용 사례</h3>
<ol>
<li>클라이언트와 클러스터가 다른 서브넷에 있는 경우.</li>
<li>클라이언트와 svc VIP가 다른 서브넷에 있어야 하는 경우(클러스터 엔드포인트도 다른 네트워크에 있을 수 있음).</li>
<li>클라우드 배포에 이상적입니다.</li>
<li>액티브-액티브 클러스터링으로 인해 더 나은 성능이 필요하지만 네트워크 장치/호스트가 ECMP를 지원해야 합니다.</li>
</ol>
<h3 id="kube-loxilb_2">kube-loxilb의 역할과 책임:</h3>
<ul>
<li>다른 서브넷에서 CIDR을 선택합니다.</li>
<li>이 경우 SetRoles 옵션을 선택하지 마세요(svcIP가 동일한 attributes/prio/med 로 광고됩니다).</li>
<li>loxilb Pod 간의 BGP 피어링 프로비저닝을 자동화합니다.</li>
<li>엔드포인트를 향한 One-arm 서비스 모드에서 loxilb를 설정합니다.</li>
</ul>
<h4 id="_11">구성 옵션</h4>
<div class="highlight"><pre><span></span><code> containers:
      - name: kube-loxilb
        image: ghcr.io/loxilb-io/kube-loxilb:latest
        imagePullPolicy: Always
        command:
        - /bin/kube-loxilb
        args:
        ....
        ....
        - --externalCIDR=123.123.123.1/24
        - --setLBMode=1
        - --setBGP=65100
        - --extBGPPeers=50.50.50.1:65101
</code></pre></div>
<ul>
<li><b>"--externalCIDR=123.123.123.1/24" -</b> svc의 외부 서비스 IP는 externalCIDR 범위에서 선택됩니다. 이 시나리오에서는 클라이언트, svc 및 클러스터가 모두 다른 서브넷에 있습니다.</li>
<li><b>"--setLBMode=1" -</b> 이 옵션을 사용하면 kube-loxilb가 엔드포인트를 향한 One-arm 모드에서 svc를 구성할 수 있습니다.</li>
<li><b>"--setBGP=65100" -</b> 이 옵션을 사용하면 kube-loxilb가 BGP 인스턴스에 로컬 AS 번호를 구성할 수 있습니다.</li>
<li><b>"--extBGPPeers=50.50.50.1:65101" -</b> 이 옵션을 사용하면 BGP 인스턴스의 외부 이웃을 구성할 수 있습니다.</li>
</ul>
<p>샘플 kube-loxilb.yaml은 <a href="https://github.com/loxilb-io/kube-loxilb/blob/main/manifest/in-cluster/kube-loxilb.yaml">여기</a>에서 찾을 수 있습니다.</p>
<h3 id="loxilb_2">loxilb의 역할과 책임:</h3>
<ul>
<li>동일한 속성으로 SVC IP를 광고합니다.</li>
<li>svc로 향하는 외부 트래픽을 추적하고 엔드포인트로 전달합니다.</li>
<li>엔드포인트의 상태를 모니터링하고 활성 엔드포인트를 선택합니다(구성된 경우).</li>
</ul>
<h4 id="_12">구성 옵션</h4>
<div class="highlight"><pre><span></span><code> containers:
      - name: loxilb-app
        image: &quot;ghcr.io/loxilb-io/loxilb:latest&quot;
        imagePullPolicy: Always
        command: [ &quot;/root/loxilb-io/loxilb/loxilb&quot;, &quot;--bgp&quot;, &quot;--egr-hooks&quot;, &quot;--blacklist=cni[0-9a-z]|veth.|flannel.&quot; ]
        ports:
        - containerPort: 11111
        - containerPort: 179
        - containerPort: 50051
        securityContext:
          privileged: true
          capabilities:
            add:
              - SYS_ADMIN
</code></pre></div>
<ul>
<li>
<p><b>"--bgp" -</b> 옵션은 loxilb가 동일한 속성으로 경로를 광고할 수 있게 합니다.</p>
</li>
<li>
<p><b>"--egr-hooks" -</b> 워크로드가 마스터 노드에 스케줄링될 수 있는 경우 필요합니다. 워커 노드로 워크로드 스케줄링을 관리하는 경우 이 인수를 언급할 필요는 없습니다.</p>
</li>
<li>
<p><b>"--blacklist=cni[0-9a-z]|veth.|flannel." -</b> 클러스터 내 모드에서 실행하는 경우 필수입니다. loxilb는 모든 인터페이스에 ebpf 프로그램을 부착하지만 기본 네임스페이스에서 실행 중이므로 모든 인터페이스(CNI 인터페이스 포함)가 노출되고 loxilb는 이러한 인터페이스에 ebpf 프로그램을 부착하게 됩니다. 이는 원하는 바가 아니므로 사용자는 이러한 인터페이스를 제외하는 정규 표현식을 언급해야 합니다. 주어진 예제의 정규 표현식은 flannel 인터페이스를 제외합니다. "--blacklist=cali.|tunl.|vxlan[.]calico|veth.|cni[0-9a-z]" 정규 표현식은 calico CNI와 함께 사용해야 합니다.</p>
</li>
</ul>
<p>샘플 loxilb.yaml은 <a href="https://github.com/loxilb-io/kube-loxilb/blob/main/manifest/in-cluster/loxilb.yaml">여기</a>에서 찾을 수 있습니다.</p>
<h3 id="fail-over_2">Fail-over</h3>
<p>이 다이어그램은 Fail-over 시나리오를 설명합니다:</p>
<p><img alt="설정" src="../photos/loxilb-k8s-arch-LoxiLB-HA-L3-ECMP-2.drawio.svg" /></p>
<p>장애가 발생한 경우, 클라이언트에서 실행 중인 BGP는 ECMP 경로를 업데이트하고 트래픽을 활성 ECMP 엔드포인트로 보내기 시작합니다.</p>
<h2 id="4-">시나리오 4 - 연결 동기화를 사용하는 액티브-백업</h2>
<h3 id="_13">설정</h3>
<hr />
<p>이 배포 시나리오에서는 Kubernetes와 loxilb가 다음과 같이 설정됩니다:</p>
<p><img alt="설정" src="../photos/loxilb-k8s-arch-LoxiLB-HA-CT-Sync-1.drawio.svg" /></p>
<p>이 기능은 loxilb가 기본 모드 또는 Full NAT 모드에서 Kubernetes 클러스터 외부에서 실행될 때만 지원됩니다. Kubernetes는 2개의 마스터 노드와 2개의 워커 노드로 구성된 클러스터를 사용하며, 모든 노드는 동일한 192.168.80.0/24 서브넷을 사용합니다. SVC는 외부 IP를 가집니다.</p>
<p>외부 클라이언트, loxilb 및 Kubernetes 클러스터의 연결에 따라 몇 가지 가능한 시나리오가 있습니다. 이 시나리오에서는 L3 연결을 고려합니다.</p>
<h3 id="_14">적합한 사용 사례</h3>
<ol>
<li>loxilb pod 장애 시 장기 실행 연결을 유지해야 하는 경우</li>
<li>DSR 모드로 알려진 다른 LB 모드를 사용하여 연결을 유지할 수 있지만 다음과 같은 제한 사항이 있습니다:<ol>
<li>상태 기반 필터링 및 연결 추적을 보장할 수 없습니다.</li>
<li>멀티호밍 기능을 지원할 수 없습니다. 다른 5-튜플이 동일한 연결에 속할 수 있기 때문입니다.</li>
</ol>
</li>
</ol>
<h3 id="kube-loxilb_3">kube-loxilb의 역할과 책임:</h3>
<ul>
<li>필요한 대로 CIDR을 선택합니다.</li>
<li>SetRoles 옵션을 선택하여 활성 loxilb를 선택할 수 있도록 합니다(svcIP가 다른 attributes/prio/med 로 광고됩니다).</li>
<li>loxilb 컨테이너 간의 BGP 피어링 프로비저닝을 자동화합니다(필요한 경우).</li>
<li>엔드포인트를 향한 Full NAT 서비스 모드에서 loxilb를 설정합니다.</li>
</ul>
<h4 id="_15">구성 옵션</h4>
<div class="highlight"><pre><span></span><code> containers:
      - name: kube-loxilb
        image: ghcr.io/loxilb-io/kube-loxilb:latest
        imagePullPolicy: Always
        command:
        - /bin/kube-loxilb
        args:
        ....
        ....
        - --setRoles=0.0.0.0
        - --loxiURL=http://192.168.80.1:11111,http://192.168.80.2:11111
        - --externalCIDR=123.123.123.1/24
        - --setLBMode=2
        - --setBGP=65100
        - --extBGPPeers=50.50.50.1:65101
</code></pre></div>
<ul>
<li><b>"--setRoles=0.0.0.0" -</b> 이 옵션을 사용하면 kube-loxilb가 loxilb 인스턴스 중에서 활성-백업을 선택할 수 있습니다.</li>
<li><b>"--loxiURL=http://192.168.80.1:11111,http://192.168.80.2:11111" -</b> 연결할 loxilb URL입니다.</li>
<li><b>"--externalCIDR=123.123.123.1/24" -</b> svc의 외부 서비스 IP는 externalCIDR 범위에서 선택됩니다. 이 시나리오에서는 클라이언트, svc 및 클러스터가 모두 다른 서브넷에 있습니다.</li>
<li><b>"--setLBMode=2" -</b> 이 옵션을 사용하면 kube-loxilb가 엔드포인트를 향한 Full NAT 모드에서 svc를 구성할 수 있습니다.</li>
<li><b>"--setBGP=65100" -</b> 이 옵션을 사용하면 kube-loxilb가 BGP 인스턴스에 로컬 AS 번호를 구성할 수 있습니다.</li>
<li><b>"--extBGPPeers=50.50.50.1:65101" -</b> 이 옵션을 사용하면 BGP 인스턴스의 외부 이웃을 구성할 수 있습니다.</li>
</ul>
<p>샘플 kube-loxilb.yaml은 <a href="https://github.com/loxilb-io/kube-loxilb/blob/main/manifest/ext-cluster/kube-loxilb.yaml">여기</a>에서 찾을 수 있습니다.</p>
<h3 id="loxilb_3">loxilb의 역할과 책임:</h3>
<ul>
<li>상태(활성/백업)에 따라 SVC IP를 광고합니다.</li>
<li>svc로 향하는 외부 트래픽을 추적하고 엔드포인트로 전달합니다.</li>
<li>엔드포인트의 상태를 모니터링하고 활성 엔드포인트를 선택합니다(구성된 경우).</li>
<li>장기 실행 연결을 다른 구성된 loxilb 피어와 동기화합니다.</li>
</ul>
<h4 id="_16">실행 옵션</h4>
<div class="highlight"><pre><span></span><code>#llb1
 docker run -u root --cap-add SYS_ADMIN   --restart unless-stopped --privileged -dit -v /dev/log:/dev/log --name loxilb ghcr.io/loxilb-io/loxilb:latest  --cluster=$llb2IP --self=0 -b

#llb2
 docker run -u root --cap-add SYS_ADMIN   --restart unless-stopped --privileged -dit -v /dev/log:/dev/log --name loxilb ghcr.io/loxilb-io/loxilb:latest --cluster=$llb1IP --self=1 -b
</code></pre></div>
<ul>
<li><b>"--cluster=\&lt;llb-peer-IP&gt;" -</b> 옵션은 동기화를 위한 피어 loxilb IP를 구성합니다.</li>
<li><b>"--self=0/1" -</b> 옵션은 인스턴스를 식별합니다.</li>
<li><b>"-b" -</b> 옵션은 loxilb가 활성/백업 상태에 따라 적절한 우선순위로 경로를 광고할 수 있도록 goBGP 인스턴스와 함께 실행되도록 합니다.</li>
</ul>
<h3 id="fail-over_3">Fail-over</h3>
<p>이 다이어그램은 Fail-over 시나리오를 설명합니다:</p>
<p><img alt="설정" src="../photos/loxilb-k8s-arch-LoxiLB-HA-CT-Sync-2.drawio.svg" /></p>
<p>장애가 발생하면 kube-loxilb는 장애를 감지합니다. 활성 loxilb 풀에서 새로운 loxilb를 선택하고 이를 새로운 마스터로 업데이트합니다. 새로운 마스터 loxilb는 높은 우선순위로 svcIP를 광고하여 클라이언트에서 실행 중인 BGP가 트래픽을 새로운 마스터 loxilb로 보내도록 강제합니다. 연결이 모두 동기화되어 있으므로 새로운 마스터 loxilb는 지정된 엔드포인트로 트래픽을 보내기 시작합니다.</p>
<p>이 기능에 대해 자세히 알아보려면 <a href="https://www.loxilb.io/post/k8s-deploying-hitless-and-ha-load-balancing">"Hitless HA"</a> 블로그를 읽어보세요.</p>
<h2 id="5-fail-over-">시나리오 5 - 빠른 Fail-over 감지를 사용하는 액티브-백업</h2>
<h3 id="_17">설정</h3>
<hr />
<p>이 배포 시나리오에서는 Kubernetes와 loxilb가 다음과 같이 설정됩니다:</p>
<p><img alt="설정" src="../photos/bfd-1.svg" /></p>
<p>이 기능은 loxilb가 Kubernetes 클러스터 외부에서 실행될 때만 지원됩니다. Kubernetes는 2개의 마스터 노드와 2개의 워커 노드로 구성된 클러스터를 사용하며, 모든 노드는 동일한 192.168.80.0/24 서브넷을 사용합니다. SVC는 외부 IP를 가집니다.</p>
<p>외부 클라이언트, loxilb 및 Kubernetes 클러스터의 연결에 따라 몇 가지 가능한 시나리오가 있습니다. 이 시나리오에서는 연결 동기화와 함께 L2 연결을 고려합니다.</p>
<h3 id="_18">적합한 사용 사례</h3>
<ol>
<li>빠른 Fail-over 감지 및 서비스 연속성이 필요한 경우.</li>
<li>이 기능은 L2 또는 L3 네트워크 설정에서 모두 작동합니다.</li>
</ol>
<h3 id="kube-loxilb_4">kube-loxilb의 역할과 책임:</h3>
<ul>
<li>필요한 대로 CIDR을 선택합니다.</li>
<li>SetRoles 옵션을 비활성화하여 활성 loxilb를 선택하지 않도록 합니다.</li>
<li>loxilb 컨테이너 간의 BGP 피어링 프로비저닝을 자동화합니다(필요한 경우).</li>
<li>엔드포인트를 향한 구성된 서비스 모드에서 loxilb를 설정합니다.</li>
</ul>
<h4 id="_19">구성 옵션</h4>
<div class="highlight"><pre><span></span><code> containers:
      - name: kube-loxilb
        image: ghcr.io/loxilb-io/kube-loxilb:latest
        imagePullPolicy: Always
        command:
        - /bin/kube-loxilb
        args:
        ....
        ....
        # Disable setRoles option
        #- --setRoles=0.0.0.0
        - --loxiURL=http://192.168.80.1:11111,http://192.168.80.2:11111
        - --externalCIDR=192.168.80.5/32
        - --setLBMode=2
</code></pre></div>
<ul>
<li><b>"--setRoles=0.0.0.0" -</b> SetRoles 옵션을 비활성화해야 합니다. 이 옵션을 활성화하면 kube-loxilb가 loxilb 인스턴스 중에서 활성-백업을 선택하게 됩니다.</li>
<li><b>"--loxiURL=http://192.168.80.1:11111,http://192.168.80.2:11111" -</b> 연결할 loxilb URL입니다.</li>
<li><b>"--externalCIDR=192.168.80.5/32" -</b> svc의 외부 서비스 IP는 externalCIDR 범위에서 선택됩니다. 이 시나리오에서는 클라이언트, svc 및 클러스터가 모두 동일한 서브넷에 있습니다.</li>
<li><b>"--setLBMode=2" -</b> 이 옵션을 사용하면 kube-loxilb가 엔드포인트를 향한 Full NAT 모드에서 svc를 구성할 수 있습니다.</li>
</ul>
<p>샘플 kube-loxilb.yaml은 <a href="https://github.com/loxilb-io/kube-loxilb/blob/main/manifest/ext-cluster/kube-loxilb.yaml">여기</a>에서 찾을 수 있습니다.</p>
<h3 id="loxilb_4">loxilb의 역할과 책임:</h3>
<ul>
<li>상태(활성/백업)에 따라 SVC IP를 광고합니다.</li>
<li>svc로 향하는 외부 트래픽을 추적하고 엔드포인트로 전달합니다.</li>
<li>엔드포인트의 상태를 모니터링하고 활성 엔드포인트를 선택합니다(구성된 경우).</li>
<li>장기 실행 연결을 다른 구성된 loxilb 피어와 동기화합니다.</li>
</ul>
<h4 id="_20">실행 옵션</h4>
<div class="highlight"><pre><span></span><code>#llb1
 docker run -u root --cap-add SYS_ADMIN   --restart unless-stopped --privileged -dit -v /dev/log:/dev/log --name loxilb ghcr.io/loxilb-io/loxilb:latest  --cluster=192.168.80.2 --self=0 --ka=192.168.80.2:192.168.80.1

#llb2
 docker run -u root --cap-add SYS_ADMIN   --restart unless-stopped --privileged -dit -v /dev/log:/dev/log --name loxilb ghcr.io/loxilb-io/loxilb:latest --cluster=192.168.80.1 --self=1 --ka=192.168.80.1:192.168.80.2
</code></pre></div>
<ul>
<li><b>"--ka=\&lt;llb-peer-IP&gt;:\&lt;llb-self-IP&gt;" -</b> 옵션은 BFD를 위한 피어 loxilb IP와 소스 IP를 구성합니다.</li>
<li><b>"--cluster=\&lt;llb-peer-IP&gt;" -</b> 옵션은 동기화를 위한 피어 loxilb IP를 구성합니다.</li>
<li><b>"--self=0/1" -</b> 옵션은 인스턴스를 식별합니다.</li>
</ul>
<h3 id="fail-over_4">Fail-over</h3>
<p>이 다이어그램은 Fail-over 시나리오를 설명합니다:</p>
<p><img alt="설정" src="../photos/bfd-2.svg" /></p>
<p>장애가 발생하면 BFD가 장애를 감지합니다. 백업 loxilb는 새로운 마스터로 상태를 업데이트합니다. 새로운 마스터 loxilb는 gARP 또는 BGP를 실행 중인 경우 더 높은 우선순위로 svcIP를 광고하여 클라이언트가 트래픽을 새로운 마스터 loxilb로 보내도록 강제합니다. 연결이 모두 동기화되어 있으므로 새로운 마스터 loxilb는 지정된 엔드포인트로 트래픽을 보내기 시작합니다.</p>
<p>이 기능에 대해 자세히 알아보려면 <a href="https://www.loxilb.io/post/bringing-sub-second-resilience-in-kubernetes-cluster">"Fast Failover Detection with BFD"</a> 블로그를 읽어보세요.</p>
<h2 id="_21">참고:</h2>
<p>loxilb를 DSR 모드, DNS 등에서 사용하는 방법은 이 문서에서 자세히 다루지 않았습니다. 시나리오를 계속 업데이트할 예정입니다.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/loxilb-io/loxilb" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.linkedin.com/company/loxilb/" target="_blank" rel="noopener" title="LinkedIn" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.loxilb.io/" target="_blank" rel="noopener" title="Website" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://join.slack.com/t/loxilb/shared_invite/zt-2b3xx14wg-P7WHj5C~OEON_jviF0ghcQ" target="_blank" rel="noopener" title="join.slack.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.path", "navigation.instant", "navigation.tracking", "navigation.indexes", "navigation.top", "navigation.footer", "search.suggest"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>